<html>
<head>
<script src="sylvester.js"></script>           <!-- Matrix manipulation                     -->
<script src="wavepot-runtime.js"></script>     <!-- Wavepot runtime                         -->
<script src="wavepot-composition.js"></script> <!-- Object to represents a piece of music   -->
</head>
<body>
<p>
<button id="play">PLAY</button>
<button id="stop">STOP</button>
<button id="change">CHANGE!</button>
<p>Level of change (between 0 and 1):</p>
<input id="variance" type="number" value="0.5"/>
</p>
<script>

    var composition = new WavepotComposition();
    var rt = new WavepotRuntime(composition.dsp);

    document.getElementById('play').addEventListener('click', function() {
        rt.play();
    });

    document.getElementById('stop').addEventListener('click', function() {
        rt.stop();
    });

    document.getElementById('change').addEventListener('click', function() {
        var variance = parseFloat(document.getElementById('variance').value);
        console.log(variance);
        composition.randomize(variance);
    });

</script>
</body>
</html>